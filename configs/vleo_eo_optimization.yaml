# VLEO EO Coverage Analysis Configuration with RGT-Min Optimization
# Finds minimum ground stations to satisfy TT&C and Ka delivery SLAs

# Analysis time window
start_date: "2025-11-01"
duration_days: 7
time_step_s: 10.0

# Constellation definition
# VLEO altitudes (300-450 km typical)
satellites:
  - sat_id: 1
    inclination_deg: 97.4  # Sun-synchronous
    altitude_km: 350
    raan_deg: 0
  - sat_id: 2
    inclination_deg: 97.4
    altitude_km: 350
    raan_deg: 60
  - sat_id: 3
    inclination_deg: 97.4
    altitude_km: 350
    raan_deg: 120
  - sat_id: 4
    inclination_deg: 53.0  # Mid-inclination
    altitude_km: 400
    raan_deg: 0
  - sat_id: 5
    inclination_deg: 53.0
    altitude_km: 400
    raan_deg: 90

# Ground stations (minimal set for analysis - optimization will select from database)
# These are used for the base contact analysis
ground_stations:
  - name: Svalbard
    lat: 78.2
    lon: 15.4
    min_elevation_deg: 5.0
    s_band: true
    x_band: true
    ka_band: true
    provider: KSAT
    downlink_rate_mbps: 1200
  - name: Alaska
    lat: 64.8
    lon: -147.7
    min_elevation_deg: 5.0
    s_band: true
    x_band: true
    ka_band: true
    provider: KSAT
    downlink_rate_mbps: 1000

# RGT-Min Optimization Configuration
optimization:
  # Enable optimization
  enabled: true

  # Optimization approach: 'greedy' (fast) or 'exhaustive' (optimal but slow)
  approach: greedy

  # TT&C SLA: minimum contacts per orbital revolution per satellite
  # 1 contact per rev ensures regular commanding and telemetry
  ttc_contacts_per_rev: 1

  # Ka Payload SLA: percentage of collects that must be delivered within time limit
  ka_delivery_percent: 95.0

  # Ka Payload SLA: delivery time limit in hours (collect end -> delivery complete)
  ka_delivery_hours: 4.0

  # Providers to optimize (empty list = all available: ATLAS, AWS, KSAT, Viasat)
  # Optimization runs separately for each provider to find their minimum configs
  providers:
    - KSAT
    - AWS
    - Viasat
    - ATLAS

  # Use ground station database (ignores manually specified stations for optimization)
  use_database_stations: true

  # Maximum stations to consider in exhaustive search (prevents combinatorial explosion)
  max_exhaustive_stations: 12

# EO imaging modes
imaging_modes:
  - name: "Panchromatic"
    fov_half_angle_deg: 2.5
    collect_dwell_time_s: 5.0
    collection_rate_gbps: 2.0
    processing_time_min: 30.0
    off_nadir_min_deg: 0.0
    off_nadir_max_deg: 30.0
  - name: "Multispectral"
    fov_half_angle_deg: 3.5
    collect_dwell_time_s: 8.0
    collection_rate_gbps: 1.5
    processing_time_min: 45.0
    off_nadir_min_deg: 0.0
    off_nadir_max_deg: 25.0

# Target AOIs
targets:
  target_points:
    - [35.7, 139.7]   # Tokyo
    - [51.5, -0.1]    # London
    - [40.7, -74.0]   # New York
    - [-33.9, 151.2]  # Sydney
    - [28.6, 77.2]    # Delhi
    - [37.5, 127.0]   # Seoul
    - [55.8, 37.6]    # Moscow
    - [48.9, 2.3]     # Paris
    - [-22.9, -43.2]  # Rio de Janeiro
    - [31.2, 121.5]   # Shanghai
  use_grid: false

# Slew and timing parameters
slew_rate_deg_per_s: 1.0
mode_switch_time_s: 30.0
contact_buffer_s: 30.0

# Access filtering
min_access_duration_s: 30.0
access_merge_buffer_s: 240.0

# TTNC search window
ttnc_max_search_hours: 6.0  # Extended for 4-hour delivery analysis

# Output configuration
output_dir: "results/optimization"
excel_filename: "optimization_results.xlsx"
ppt_filename: "optimization_results.pptx"
plots_subdir: "plots"

# Plot settings
plot_dpi: 300
plot_figsize: [15, 10]

# Map colors
land_color: "#fafaf9"
ocean_color: "#d4dbdc"
border_color: "#ebd6d9"
